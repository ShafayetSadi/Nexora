{% extends "base.html" %}
{% load i18n static %}

{% block title %}Log-in{% endblock %}

{% block content %}
<div class="container mt-10 bg-white z--1">
    <div class="flex justify-center items-center">
        <!-- Left side: Login Form -->
        <div class="w-full md:w-2/3 lg:w-1/2">
            <div class="card shadow-xl rounded-lg overflow-hidden ">
                <div class="card-header  text-white text-center py-2">
                    <!-- Avatar with shadow and border -->
                    <img src="{% static 'images/avatar.png' %}" alt="Avatar" class="w-24 h-24 rounded-full mx-auto border-4 border-white shadow-lg">
                </div>
                <div class="card-body p-8 ">
                    {% if form.errors %}
                        <div class="p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800" role="alert">
                            <span class="font-medium">Your username and password didn't match. Please try again.</span>
                        </div>
                    {% else %}
                        <p class="text-muted text-center mb-4">
                            Please use the form below to log in. If you don't have an account, 
                            <a href="{% url 'user_register' %}" class="text-blue-700 hover:underline dark:text-blue-500 font-semibold">register here</a>.
                        </p>
                    {% endif %}

                    <form class="space-y-6" action="{% url 'login' %}" method="post">
                        {% csrf_token %}
                        
                        <div>
                            <label for="id_username" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">{{ form.username.label }}</label>
                            <input type="text" id="id_username" name="username" class="w-full p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Enter username" required>
                        </div>
                        
                        <div>
                            <label for="id_password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">{{ form.password.label }}</label>
                            <input type="password" id="id_password" name="password" class="w-full p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Enter password" required>
                        </div>
                        
                        <input type="hidden" name="next" value="{{ next }}"/>
                    
                        <div class="flex justify-between mb-6">
                            <a class="text-sm text-blue-700 hover:underline dark:text-blue-500" href="{% url 'password_reset' %}">{% trans "Forgot password?" %}</a>
                        </div>
                    
                        <div class="d-grid">
                            <button type="submit" class="w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold py-3 rounded-lg hover:scale-105 transition transform duration-300 focus:ring-4 focus:outline-none focus:ring-indigo-300">Login</button>
                        </div>
                    </form>

                    <div class="my-6 text-center">
                        <hr class="border-t-2 border-gray-300 mb-4">
                        <p class="text-muted">Or log in using:</p>
                        <ul class="list-unstyled d-flex justify-content-center">
                            <li class="ms-2">
                                <a href="#" class="btn btn-outline-danger btn-sm flex items-center space-x-2 py-2 px-4 rounded-full border-2 border-red-500 hover:bg-red-500 hover:text-white transition-all duration-300">
                                    <i class="bi bi-google text-lg"></i>
                                    <span>Sign in with Google</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right side: Image -->
        <div class="w-0 md:w-1/3 hidden md:block">
            <img src="{% static 'images/login.jpg' %}" alt="Login Image" class="w-full h-full object-cover rounded-lg ">
        </div>
    </div>
</div>
{% endblock %}
